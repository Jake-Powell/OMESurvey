<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Create survey figures • OMESurvey</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create survey figures">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OMESurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Create-OME-branded-excel-output.html">Create OME branded excel output</a></li>
    <li><a class="dropdown-item" href="../articles/Create-survey-figures.html">Create survey figures</a></li>
    <li><a class="dropdown-item" href="../articles/Preparation-and-initial-survey-analysis.html">Preparation and initial survey analysis</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="Create-survey-figures_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="Create-survey-figures_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="Create-survey-figures_files/plotly-binding-4.10.4/plotly.js"></script><script src="Create-survey-figures_files/typedarray-0.1/typedarray.min.js"></script><link href="Create-survey-figures_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="Create-survey-figures_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><link href="Create-survey-figures_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="Create-survey-figures_files/plotly-main-2.11.1/plotly-latest.min.js"></script><link href="Create-survey-figures_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="Create-survey-figures_files/datatables-binding-0.33/datatables.js"></script><link href="Create-survey-figures_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="Create-survey-figures_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="Create-survey-figures_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><script src="Create-survey-figures_files/jszip-1.13.6/jszip.min.js"></script><script src="Create-survey-figures_files/pdfmake-1.13.6/pdfmake.js"></script><script src="Create-survey-figures_files/pdfmake-1.13.6/vfs_fonts.js"></script><link href="Create-survey-figures_files/dt-ext-buttons-1.13.6/css/buttons.dataTables.min.css" rel="stylesheet">
<script src="Create-survey-figures_files/dt-ext-buttons-1.13.6/js/dataTables.buttons.min.js"></script><script src="Create-survey-figures_files/dt-ext-buttons-1.13.6/js/buttons.html5.min.js"></script><script src="Create-survey-figures_files/dt-ext-buttons-1.13.6/js/buttons.colVis.min.js"></script><script src="Create-survey-figures_files/dt-ext-buttons-1.13.6/js/buttons.print.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create survey figures</h1>
            
      

      <div class="d-none name"><code>Create-survey-figures.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jake-powell.github.io/OMESurvey/">OMESurvey</a></span><span class="op">)</span></span></code></pre></div>
<p><em>This vignette provides examples for the simple creation of survey
plots across different output types</em></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">=</span> <span class="fu">OMESurvey</span><span class="fu">::</span><span class="va"><a href="../reference/survey_example.html">survey_example</a></span></span>
<span></span>
<span><span class="co"># Clean such that "N-A" values equal NA, fix any casing issues</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">data</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span><span class="op">[</span><span class="va">data</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">==</span> <span class="st">'N-A'</span><span class="op">]</span> <span class="op">=</span> <span class="cn">NA</span></span>
<span>  <span class="va">data</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_sentence</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="section level2">
<h2 id="number-of-responses-across-questions-in-a-theme">Number of responses across questions in a theme<a class="anchor" aria-label="anchor" href="#number-of-responses-across-questions-in-a-theme"></a>
</h2>
<p>In this case we can use <code><a href="../reference/plot_theme.html">plot_theme()</a></code> to create a
horizontal bar chart. Depending on the “Kind” argument we can create a
ggplot, a plotly figure or a formatted data frame.</p>
<div class="section level3 tabset">
<h3 class="tabset" id="section"></h3>



<ul class="nav nav-tabs" id="section" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#ggplot" id="ggplot-tab" type="button" role="tab" aria-controls="ggplot" aria-selected="true" class="active nav-link">ggplot</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#plotly" id="plotly-tab" type="button" role="tab" aria-controls="plotly" aria-selected="false" class="nav-link">plotly</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#data-frame" id="data-frame-tab" type="button" role="tab" aria-controls="data-frame" aria-selected="false" class="nav-link">data.frame</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="ggplot" role="tabpanel" aria-labelledby="ggplot-tab">

<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">OMESurvey</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_theme.html">plot_theme</a></span><span class="op">(</span><span class="va">data</span>, theme <span class="op">=</span> <span class="st">'Theme_1'</span>, kind <span class="op">=</span> <span class="st">'ggplot'</span><span class="op">)</span></span></code></pre></div>
<p><img src="Create-survey-figures_files/figure-html/plot%20theme%20-%20ggplot-1.png" width="700"></p>
</div>
<div class="tab-pane" id="plotly" role="tabpanel" aria-labelledby="plotly-tab">

<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">OMESurvey</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_theme.html">plot_theme</a></span><span class="op">(</span><span class="va">data</span>, theme <span class="op">=</span> <span class="st">'Theme_1'</span>, kind <span class="op">=</span> <span class="st">'plotly'</span><span class="op">)</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"visdat":{"18a86e685995":["function () ","plotlyVisDat"]},"cur_data":"18a86e685995","attrs":{"18a86e685995":{"y":{},"x":{},"orientation":"h","hovertext":{},"hoverinfo":"text","color":{},"colors":["#009BC2","#08607D","#10263A","#732F52","#D7386B"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Number of responses"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","type":"category","categoryorder":"array","categoryarray":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"]},"barmode":"stack","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[122,49,84,134,85,90],"orientation":"h","hovertext":["Agree a lot<br>122 Responses<br>34.9%","Agree a lot<br>49 Responses<br>14.4%","Agree a lot<br>84 Responses<br>23.9%","Agree a lot<br>134 Responses<br>38.1%","Agree a lot<br>85 Responses<br>23.5%","Agree a lot<br>90 Responses<br>25.9%"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"Agree a lot","marker":{"color":"rgba(0,155,194,1)","line":{"color":"rgba(0,155,194,1)"}},"textfont":{"color":"rgba(0,155,194,1)"},"error_y":{"color":"rgba(0,155,194,1)"},"error_x":{"color":"rgba(0,155,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[139,175,135,103,58,104],"orientation":"h","hovertext":["Agree a little<br>139 Responses<br>39.7%","Agree a little<br>175 Responses<br>51.5%","Agree a little<br>135 Responses<br>38.4%","Agree a little<br>103 Responses<br>29.3%","Agree a little<br>58 Responses<br>16.1%","Agree a little<br>104 Responses<br>30%"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"Agree a little","marker":{"color":"rgba(8,96,125,1)","line":{"color":"rgba(8,96,125,1)"}},"textfont":{"color":"rgba(8,96,125,1)"},"error_y":{"color":"rgba(8,96,125,1)"},"error_x":{"color":"rgba(8,96,125,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[45,54,65,52,70,76],"orientation":"h","hovertext":["Neither<br>45 Responses<br>12.9%","Neither<br>54 Responses<br>15.9%","Neither<br>65 Responses<br>18.5%","Neither<br>52 Responses<br>14.8%","Neither<br>70 Responses<br>19.4%","Neither<br>76 Responses<br>21.9%"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"Neither","marker":{"color":"rgba(16,38,58,1)","line":{"color":"rgba(16,38,58,1)"}},"textfont":{"color":"rgba(16,38,58,1)"},"error_y":{"color":"rgba(16,38,58,1)"},"error_x":{"color":"rgba(16,38,58,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[28,44,47,33,61,32],"orientation":"h","hovertext":["Disagree a little<br>28 Responses<br>8%","Disagree a little<br>44 Responses<br>12.9%","Disagree a little<br>47 Responses<br>13.4%","Disagree a little<br>33 Responses<br>9.4%","Disagree a little<br>61 Responses<br>16.9%","Disagree a little<br>32 Responses<br>9.2%"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"Disagree a little","marker":{"color":"rgba(115,47,82,1)","line":{"color":"rgba(115,47,82,1)"}},"textfont":{"color":"rgba(115,47,82,1)"},"error_y":{"color":"rgba(115,47,82,1)"},"error_x":{"color":"rgba(115,47,82,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[16,18,21,30,87,45],"orientation":"h","hovertext":["Disagree a lot<br>16 Responses<br>4.6%","Disagree a lot<br>18 Responses<br>5.3%","Disagree a lot<br>21 Responses<br>6%","Disagree a lot<br>30 Responses<br>8.5%","Disagree a lot<br>87 Responses<br>24.1%","Disagree a lot<br>45 Responses<br>13%"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"Disagree a lot","marker":{"color":"rgba(215,56,107,1)","line":{"color":"rgba(215,56,107,1)"}},"textfont":{"color":"rgba(215,56,107,1)"},"error_y":{"color":"rgba(215,56,107,1)"},"error_x":{"color":"rgba(215,56,107,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="tab-pane" id="data-frame" role="tabpanel" aria-labelledby="data-frame-tab">

<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">=</span> <span class="fu">OMESurvey</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_theme.html">plot_theme</a></span><span class="op">(</span><span class="va">data</span>, theme <span class="op">=</span> <span class="st">'Theme_1'</span>, kind <span class="op">=</span> <span class="st">'data.frame'</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>extensions <span class="op">=</span> <span class="st">'Buttons'</span>,</span>
<span>                  rownames <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollY <span class="op">=</span> <span class="fl">300</span>,</span>
<span>                                 dom <span class="op">=</span> <span class="st">'Bt'</span>,</span>
<span>                                 buttons <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'copy'</span>, <span class="st">'csv'</span>, <span class="st">'excel'</span>, <span class="st">'pdf'</span><span class="op">)</span>,</span>
<span>                                 paging<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>                                 ordering<span class="op">=</span><span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["Question 1","Question 1","Question 1","Question 1","Question 1","Question 2","Question 2","Question 2","Question 2","Question 2","Question 3","Question 3","Question 3","Question 3","Question 3","Question 4","Question 4","Question 4","Question 4","Question 4","Question 5","Question 5","Question 5","Question 5","Question 5","Question 6","Question 6","Question 6","Question 6","Question 6"],["Agree a little","Agree a lot","Disagree a little","Disagree a lot","Neither","Agree a little","Agree a lot","Disagree a little","Disagree a lot","Neither","Agree a little","Agree a lot","Disagree a little","Disagree a lot","Neither","Agree a little","Agree a lot","Disagree a little","Disagree a lot","Neither","Agree a little","Agree a lot","Disagree a little","Disagree a lot","Neither","Agree a little","Agree a lot","Disagree a little","Disagree a lot","Neither"],[139,122,28,16,45,175,49,44,18,54,135,84,47,21,65,103,134,33,30,52,58,85,61,87,70,104,90,32,45,76],[39.71428571428572,34.85714285714286,8,4.571428571428571,12.85714285714286,51.47058823529412,14.41176470588235,12.94117647058824,5.294117647058823,15.88235294117647,38.35227272727273,23.86363636363636,13.35227272727273,5.965909090909091,18.46590909090909,29.26136363636364,38.06818181818182,9.375,8.522727272727272,14.77272727272727,16.06648199445983,23.54570637119114,16.89750692520776,24.09972299168975,19.39058171745152,29.97118155619597,25.93659942363112,9.221902017291066,12.96829971181556,21.90201729106628]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>question<\/th>\n      <th>answer<\/th>\n      <th>count<\/th>\n      <th>percent<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollY":300,"dom":"Bt","buttons":["copy","csv","excel","pdf"],"paging":false,"ordering":false,"columnDefs":[{"className":"dt-right","targets":[2,3]},{"name":"question","targets":0},{"name":"answer","targets":1},{"name":"count","targets":2},{"name":"percent","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div class="section level3 unnumbered">
<h3 class="unnumbered" id="section-1"></h3>
<p>Note that here we use default
<code>survey_values = OMESurvey::survey_values</code> is used to find
the expected values of the survey questions and the order to show the
answers in the legend. For custom survey values you can change the
<code>survey_values</code>. The function uses colours from
<code><a href="../reference/get_OME_colours.html">OMESurvey::get_OME_colours()</a></code>. For the plots either a ggplot
or plotly object are returned, therefore + or |&gt; can be used to
update the plot (e.g layout/colours, etc). Or you can create your own
plot from the data frame output. ***</p>
</div>
</div>
<div class="section level2">
<h2 id="number-of-responses-across-questions-in-a-theme-with-a-demographic">Number of responses across questions in a theme with a
demographic<a class="anchor" aria-label="anchor" href="#number-of-responses-across-questions-in-a-theme-with-a-demographic"></a>
</h2>
<p>Need to add a demographic column so extract school from the bar
code.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">school</span> <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Barcode_ID</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">school</span> <span class="op">=</span> <span class="va">school</span></span>
<span><span class="va">school_column</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<div class="section level3 tabset">
<h3 class="tabset" id="section-2"></h3>



<ul class="nav nav-tabs" id="section-2" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#ggplot-1" id="ggplot-1-tab" type="button" role="tab" aria-controls="ggplot-1" aria-selected="true" class="active nav-link">ggplot</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#plotly-1" id="plotly-1-tab" type="button" role="tab" aria-controls="plotly-1" aria-selected="false" class="nav-link">plotly</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#data-frame-1" id="data-frame-1-tab" type="button" role="tab" aria-controls="data-frame-1" aria-selected="false" class="nav-link">data.frame</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="ggplot-1" role="tabpanel" aria-labelledby="ggplot-1-tab">

<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">OMESurvey</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_theme_by_demographic.html">plot_theme_by_demographic</a></span><span class="op">(</span><span class="va">data</span>, theme <span class="op">=</span> <span class="st">'Theme_1'</span>, demographic_column <span class="op">=</span> <span class="va">school_column</span>,  kind <span class="op">=</span> <span class="st">'ggplot'</span><span class="op">)</span></span></code></pre></div>
<p><img src="Create-survey-figures_files/figure-html/plot%20theme%20demo%20-%20ggplot-1.png" width="700"></p>
</div>
<div class="tab-pane" id="plotly-1" role="tabpanel" aria-labelledby="plotly-1-tab">

<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">OMESurvey</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_theme_by_demographic.html">plot_theme_by_demographic</a></span><span class="op">(</span><span class="va">data</span>, theme <span class="op">=</span> <span class="st">'Theme_1'</span>, demographic_column <span class="op">=</span> <span class="va">school_column</span>,  kind <span class="op">=</span> <span class="st">'plotly'</span><span class="op">)</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"visdat":{"18a838fd0e11":["function () ","plotlyVisDat"]},"cur_data":"18a838fd0e11","attrs":{"18a838fd0e11":{"y":{},"x":{},"orientation":"h","hovertext":{},"hoverinfo":"text","color":{},"colors":["#009BC2","#0A4D67","#522C4A","#D7386B"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Agree or strongly agree (%)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","type":"category","categoryorder":"array","categoryarray":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"]},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[49.101796407185603,47.904191616766497,46.706586826347298,48.502994011976,23.353293413173699,37.125748502994],"orientation":"h","hovertext":["Question 1<br>School: 007<br>49.1% of responses","Question 2<br>School: 007<br>47.9% of responses","Question 3<br>School: 007<br>46.7% of responses","Question 4<br>School: 007<br>48.5% of responses","Question 5<br>School: 007<br>23.4% of responses","Question 6<br>School: 007<br>37.1% of responses"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"007","marker":{"color":"rgba(0,155,194,1)","line":{"color":"rgba(0,155,194,1)"}},"textfont":{"color":"rgba(0,155,194,1)"},"error_y":{"color":"rgba(0,155,194,1)"},"error_x":{"color":"rgba(0,155,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[56.818181818181799,44.090909090909101,45.909090909090899,48.181818181818201,32.272727272727302,43.636363636363598],"orientation":"h","hovertext":["Question 1<br>School: 008<br>56.8% of responses","Question 2<br>School: 008<br>44.1% of responses","Question 3<br>School: 008<br>45.9% of responses","Question 4<br>School: 008<br>48.2% of responses","Question 5<br>School: 008<br>32.3% of responses","Question 6<br>School: 008<br>43.6% of responses"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"008","marker":{"color":"rgba(10,77,103,1)","line":{"color":"rgba(10,77,103,1)"}},"textfont":{"color":"rgba(10,77,103,1)"},"error_y":{"color":"rgba(10,77,103,1)"},"error_x":{"color":"rgba(10,77,103,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[70.588235294117695,55.882352941176499,35.294117647058798,55.882352941176499,35.294117647058798,38.235294117647101],"orientation":"h","hovertext":["Question 1<br>School: 009<br>70.6% of responses","Question 2<br>School: 009<br>55.9% of responses","Question 3<br>School: 009<br>35.3% of responses","Question 4<br>School: 009<br>55.9% of responses","Question 5<br>School: 009<br>35.3% of responses","Question 6<br>School: 009<br>38.2% of responses"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"009","marker":{"color":"rgba(82,44,74,1)","line":{"color":"rgba(82,44,74,1)"}},"textfont":{"color":"rgba(82,44,74,1)"},"error_y":{"color":"rgba(82,44,74,1)"},"error_x":{"color":"rgba(82,44,74,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":["Question 1","Question 2","Question 3","Question 4","Question 5","Question 6"],"x":[47.619047619047599,44.4444444444444,44.4444444444444,49.206349206349202,33.3333333333333,36.507936507936499],"orientation":"h","hovertext":["Question 1<br>School: 010<br>47.6% of responses","Question 2<br>School: 010<br>44.4% of responses","Question 3<br>School: 010<br>44.4% of responses","Question 4<br>School: 010<br>49.2% of responses","Question 5<br>School: 010<br>33.3% of responses","Question 6<br>School: 010<br>36.5% of responses"],"hoverinfo":["text","text","text","text","text","text"],"type":"bar","name":"010","marker":{"color":"rgba(215,56,107,1)","line":{"color":"rgba(215,56,107,1)"}},"textfont":{"color":"rgba(215,56,107,1)"},"error_y":{"color":"rgba(215,56,107,1)"},"error_x":{"color":"rgba(215,56,107,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="tab-pane" id="data-frame-1" role="tabpanel" aria-labelledby="data-frame-1-tab">

<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get school information</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">=</span> <span class="fu">OMESurvey</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_theme_by_demographic.html">plot_theme_by_demographic</a></span><span class="op">(</span><span class="va">data</span>, theme <span class="op">=</span> <span class="st">'Theme_1'</span>, demographic_column <span class="op">=</span> <span class="va">school_column</span>,  kind <span class="op">=</span> <span class="st">'data.frame'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>extensions <span class="op">=</span> <span class="st">'Buttons'</span>,</span>
<span>                  rownames <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollY <span class="op">=</span> <span class="fl">300</span>,</span>
<span>                                 dom <span class="op">=</span> <span class="st">'Bt'</span>,</span>
<span>                                 buttons <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'copy'</span>, <span class="st">'csv'</span>, <span class="st">'excel'</span>, <span class="st">'pdf'</span><span class="op">)</span>,</span>
<span>                                 paging<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>                                 ordering<span class="op">=</span><span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009","008","007","010","009"],["Question 1","Question 1","Question 1","Question 1","Question 2","Question 2","Question 2","Question 2","Question 3","Question 3","Question 3","Question 3","Question 4","Question 4","Question 4","Question 4","Question 5","Question 5","Question 5","Question 5","Question 6","Question 6","Question 6","Question 6","Question 1","Question 1","Question 1","Question 1","Question 2","Question 2","Question 2","Question 2","Question 3","Question 3","Question 3","Question 3","Question 4","Question 4","Question 4","Question 4","Question 5","Question 5","Question 5","Question 5","Question 6","Question 6","Question 6","Question 6"],["count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","count","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent","percent"],[125,82,30,24,97,80,28,19,101,78,28,12,106,81,31,19,71,39,21,12,96,62,23,13,56.8181818181818,49.1017964071856,47.6190476190476,70.58823529411769,44.0909090909091,47.9041916167665,44.4444444444444,55.8823529411765,45.9090909090909,46.7065868263473,44.4444444444444,35.2941176470588,48.1818181818182,48.502994011976,49.2063492063492,55.8823529411765,32.2727272727273,23.3532934131737,33.3333333333333,35.2941176470588,43.6363636363636,37.125748502994,36.5079365079365,38.2352941176471]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>demographic<\/th>\n      <th>question<\/th>\n      <th>type<\/th>\n      <th>value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollY":300,"dom":"Bt","buttons":["copy","csv","excel","pdf"],"paging":false,"ordering":false,"columnDefs":[{"className":"dt-right","targets":3},{"name":"demographic","targets":0},{"name":"question","targets":1},{"name":"type","targets":2},{"name":"value","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div class="section level3 unnumbered">
<h3 class="unnumbered" id="section-3"></h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jake Powell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
