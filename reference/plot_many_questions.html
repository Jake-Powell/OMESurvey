<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Make a stacked bar chart summarising many survey questions — plot_many_questions • OMESurvey</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make a stacked bar chart summarising many survey questions — plot_many_questions"><meta name="description" content="Make a horizontal stacked bar chart to summarise several survey questions,
with questions ordered according to the proportion of responses that fit a
particular pattern."><meta property="og:description" content="Make a horizontal stacked bar chart to summarise several survey questions,
with questions ordered according to the proportion of responses that fit a
particular pattern."><meta property="og:image" content="https://jake-powell.github.io/OMESurvey/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OMESurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Create-OME-branded-excel-output.html">Create OME branded excel output</a></li>
    <li><a class="dropdown-item" href="../articles/Create-survey-figures.html">Create survey figures</a></li>
    <li><a class="dropdown-item" href="../articles/help.html">help</a></li>
    <li><a class="dropdown-item" href="../articles/Preparation-and-initial-survey-analysis.html">Preparation and initial survey analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Make a stacked bar chart summarising many survey questions</h1>

      <div class="d-none name"><code>plot_many_questions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Make a horizontal stacked bar chart to summarise several survey questions,
with questions ordered according to the proportion of responses that fit a
particular pattern.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_many_questions</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">labels_vec</span>,</span>
<span>  percCut <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  colo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  order_values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  titleText <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>a tibble/data.frame, each variable corresponding to a question. All variables should be factors and all with the same possible values.</p></dd>


<dt id="arg-labels-vec">labels_vec<a class="anchor" aria-label="anchor" href="#arg-labels-vec"></a></dt>
<dd><p>a named vector of labels to use for the questions on the plot. Names are variable names and values are corresponding labels.</p></dd>


<dt id="arg-perccut">percCut<a class="anchor" aria-label="anchor" href="#arg-perccut"></a></dt>
<dd><p>numeric scalar (0-100). Cutoff below which percentages are not shown in bar segments. Default <code>5</code>.</p></dd>


<dt id="arg-colo">colo<a class="anchor" aria-label="anchor" href="#arg-colo"></a></dt>
<dd><p>(optional but recommended) vector of colours to use for the fill scale (character vector of colours,
length the same as the number of levels of the factor that is the first variable of <code>dat</code>.)
If <code>NULL</code> (default) the pallete from <code>OMESurvey::get_OME_colours(type='distinct')</code> is used.
When <code>na.rm = FALSE</code> a grey colour is prepended for the "No response" level.
Note that percentage labels are in white, so the pallete needs to work with that.
(... or this function needs upgrading!)</p></dd>


<dt id="arg-order-values">order_values<a class="anchor" aria-label="anchor" href="#arg-order-values"></a></dt>
<dd><p>optional vector of question responses that determine the ordering of questions in the plot.</p></dd>


<dt id="arg-titletext">titleText<a class="anchor" aria-label="anchor" href="#arg-titletext"></a></dt>
<dd><p>text to use as plot title.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot</code> object (or a <code>cowplot</code> object if <code>cowplot</code> is installed) representing
a horizontal stacked bar chart summarising the survey questions.#'</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>order_values</code> specifies the responses which count for ordering the questions in the plot. e.g. <code>c("Strongly agree", "Agree")</code> will result in the questions being ordered according to the proportion of respondents who agree.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>All variables in <code>dat</code> should have identical factor levels.
The names of <code>labels_vec</code> must match the column names of <code>dat</code>.
Values in <code>order_values</code> must be valid levels of the response factor.</p>
    </div>
    <div class="section level2">
    <h2 id="legend-placement">Legend placement<a class="anchor" aria-label="anchor" href="#legend-placement"></a></h2>


<p>If the <code>cowplot</code> package is installed, the legend is extracted and placed
beneath the plot, centred horizontally. If <code>cowplot</code> is not available,
the legend remains in the default ggplot position.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Minimal example with three questions and three response levels</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  Q1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"Maybe"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Q2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"Maybe"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Q3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Maybe"</span>, <span class="st">"Yes"</span>, <span class="st">"Maybe"</span>, <span class="st">"Yes"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Q1 <span class="op">=</span> <span class="st">"Question 1"</span>, Q2 <span class="op">=</span> <span class="st">"Question 2"</span>, Q3 <span class="op">=</span> <span class="st">"Question 3"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_many_questions</span><span class="op">(</span><span class="va">dat</span>, labels_vec <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_many_questions-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jake Powell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

